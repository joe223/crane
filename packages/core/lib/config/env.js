"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.clientEnv = void 0;

/**
 * Initialize node environment variables
 */
const path = require("path");

const dotenv = require('dotenv');

const dotenvExpand = require('dotenv-expand');

const cwd = process.cwd();
const prefixRE = /^WEB_APP_/;
const envPath = path.resolve(cwd, 'env');
const envConfig = { ...dotenv.config({
    debug: process.env.DEBUG,
    path: path.join(cwd, envPath, `.env.${process.env.MODE}`)
  }),
  ...dotenv.config({
    debug: process.env.DEBUG,
    path: path.join(cwd, envPath, '.env._base')
  })
};
const clientEnv = {};
exports.clientEnv = clientEnv;
dotenvExpand(envConfig);
Object.keys(process.env).forEach(key => {
  if (prefixRE.test(key) || key === 'NODE_ENV' || key === 'MODE') {
    clientEnv[key] = process.env[key];
  }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb25maWcvZW52LmpzIl0sIm5hbWVzIjpbInBhdGgiLCJyZXF1aXJlIiwiZG90ZW52IiwiZG90ZW52RXhwYW5kIiwiY3dkIiwicHJvY2VzcyIsInByZWZpeFJFIiwiZW52UGF0aCIsInJlc29sdmUiLCJlbnZDb25maWciLCJjb25maWciLCJkZWJ1ZyIsImVudiIsIkRFQlVHIiwiam9pbiIsIk1PREUiLCJjbGllbnRFbnYiLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsImtleSIsInRlc3QiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFFQSxNQUFNQSxJQUFJLEdBQUdDLE9BQU8sQ0FBQyxNQUFELENBQXBCOztBQUNBLE1BQU1DLE1BQU0sR0FBR0QsT0FBTyxDQUFDLFFBQUQsQ0FBdEI7O0FBQ0EsTUFBTUUsWUFBWSxHQUFHRixPQUFPLENBQUMsZUFBRCxDQUE1Qjs7QUFDQSxNQUFNRyxHQUFHLEdBQUdDLE9BQU8sQ0FBQ0QsR0FBUixFQUFaO0FBQ0EsTUFBTUUsUUFBUSxHQUFHLFdBQWpCO0FBQ0EsTUFBTUMsT0FBTyxHQUFHUCxJQUFJLENBQUNRLE9BQUwsQ0FBYUosR0FBYixFQUFrQixLQUFsQixDQUFoQjtBQUNBLE1BQU1LLFNBQVMsR0FBRyxFQUNkLEdBQUdQLE1BQU0sQ0FBQ1EsTUFBUCxDQUFjO0FBQ2JDLElBQUFBLEtBQUssRUFBRU4sT0FBTyxDQUFDTyxHQUFSLENBQVlDLEtBRE47QUFFYmIsSUFBQUEsSUFBSSxFQUFFQSxJQUFJLENBQUNjLElBQUwsQ0FBVVYsR0FBVixFQUFlRyxPQUFmLEVBQXlCLFFBQU9GLE9BQU8sQ0FBQ08sR0FBUixDQUFZRyxJQUFLLEVBQWpEO0FBRk8sR0FBZCxDQURXO0FBS2QsS0FBR2IsTUFBTSxDQUFDUSxNQUFQLENBQWM7QUFDYkMsSUFBQUEsS0FBSyxFQUFFTixPQUFPLENBQUNPLEdBQVIsQ0FBWUMsS0FETjtBQUViYixJQUFBQSxJQUFJLEVBQUVBLElBQUksQ0FBQ2MsSUFBTCxDQUFVVixHQUFWLEVBQWVHLE9BQWYsRUFBd0IsWUFBeEI7QUFGTyxHQUFkO0FBTFcsQ0FBbEI7QUFVQSxNQUFNUyxTQUFTLEdBQUcsRUFBbEI7O0FBRUFiLFlBQVksQ0FBQ00sU0FBRCxDQUFaO0FBRUFRLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZYixPQUFPLENBQUNPLEdBQXBCLEVBQXlCTyxPQUF6QixDQUFpQ0MsR0FBRyxJQUFJO0FBQ3BDLE1BQUlkLFFBQVEsQ0FBQ2UsSUFBVCxDQUFjRCxHQUFkLEtBQ0dBLEdBQUcsS0FBSyxVQURYLElBRUdBLEdBQUcsS0FBSyxNQUZmLEVBR0U7QUFDRUosSUFBQUEsU0FBUyxDQUFDSSxHQUFELENBQVQsR0FBaUJmLE9BQU8sQ0FBQ08sR0FBUixDQUFZUSxHQUFaLENBQWpCO0FBQ0g7QUFDSixDQVBEIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBJbml0aWFsaXplIG5vZGUgZW52aXJvbm1lbnQgdmFyaWFibGVzXG4gKi9cblxuY29uc3QgcGF0aCA9IHJlcXVpcmUoXCJwYXRoXCIpXG5jb25zdCBkb3RlbnYgPSByZXF1aXJlKCdkb3RlbnYnKVxuY29uc3QgZG90ZW52RXhwYW5kID0gcmVxdWlyZSgnZG90ZW52LWV4cGFuZCcpXG5jb25zdCBjd2QgPSBwcm9jZXNzLmN3ZCgpXG5jb25zdCBwcmVmaXhSRSA9IC9eV0VCX0FQUF8vXG5jb25zdCBlbnZQYXRoID0gcGF0aC5yZXNvbHZlKGN3ZCwgJ2VudicpXG5jb25zdCBlbnZDb25maWcgPSB7XG4gICAgLi4uZG90ZW52LmNvbmZpZyh7XG4gICAgICAgIGRlYnVnOiBwcm9jZXNzLmVudi5ERUJVRyxcbiAgICAgICAgcGF0aDogcGF0aC5qb2luKGN3ZCwgZW52UGF0aCwgYC5lbnYuJHtwcm9jZXNzLmVudi5NT0RFfWApXG4gICAgfSksXG4gICAgLi4uZG90ZW52LmNvbmZpZyh7XG4gICAgICAgIGRlYnVnOiBwcm9jZXNzLmVudi5ERUJVRyxcbiAgICAgICAgcGF0aDogcGF0aC5qb2luKGN3ZCwgZW52UGF0aCwgJy5lbnYuX2Jhc2UnKVxuICAgIH0pXG59XG5jb25zdCBjbGllbnRFbnYgPSB7fVxuXG5kb3RlbnZFeHBhbmQoZW52Q29uZmlnKVxuXG5PYmplY3Qua2V5cyhwcm9jZXNzLmVudikuZm9yRWFjaChrZXkgPT4ge1xuICAgIGlmIChwcmVmaXhSRS50ZXN0KGtleSlcbiAgICAgICAgfHwga2V5ID09PSAnTk9ERV9FTlYnXG4gICAgICAgIHx8IGtleSA9PT0gJ01PREUnXG4gICAgKSB7XG4gICAgICAgIGNsaWVudEVudltrZXldID0gcHJvY2Vzcy5lbnZba2V5XVxuICAgIH1cbn0pXG5cbmV4cG9ydCB7XG4gICAgY2xpZW50RW52XG59XG4iXX0=