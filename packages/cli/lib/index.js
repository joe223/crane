"use strict";

var _commander = require("commander");

require("source-map-support/register");

var _dev = require("./commands/dev");

var _build = require("./commands/build");

var _utils = require("./utils");

var _shared = require("@cranejs/shared");

const program = new _commander.Command();
program.option('--mode <mode>', 'Crane environment mode');
program.command('dev').description('Run development server').action(async function () {
  (0, _utils.parseOpt)(program.opts());
  await (0, _dev.devCmd)(program);
});
program.command('build').description('Build production version').action(async function () {
  (0, _utils.parseOpt)(program.opts());
  (0, _shared.cleanWorkspace)();
  await (0, _build.buildCmd)(program);
});
program.parse(process.argv);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJwcm9ncmFtIiwiQ29tbWFuZCIsIm9wdGlvbiIsImNvbW1hbmQiLCJkZXNjcmlwdGlvbiIsImFjdGlvbiIsIm9wdHMiLCJwYXJzZSIsInByb2Nlc3MiLCJhcmd2Il0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUVBLE1BQU1BLE9BQU8sR0FBRyxJQUFJQyxrQkFBSixFQUFoQjtBQUVBRCxPQUFPLENBQUNFLE1BQVIsQ0FBZSxlQUFmLEVBQWdDLHdCQUFoQztBQUVBRixPQUFPLENBQ0ZHLE9BREwsQ0FDYSxLQURiLEVBRUtDLFdBRkwsQ0FFaUIsd0JBRmpCLEVBR0tDLE1BSEwsQ0FHWSxrQkFBa0I7QUFDdEIsdUJBQVNMLE9BQU8sQ0FBQ00sSUFBUixFQUFUO0FBQ0EsUUFBTSxpQkFBT04sT0FBUCxDQUFOO0FBQ0gsQ0FOTDtBQVFBQSxPQUFPLENBQ0ZHLE9BREwsQ0FDYSxPQURiLEVBRUtDLFdBRkwsQ0FFaUIsMEJBRmpCLEVBR0tDLE1BSEwsQ0FHWSxrQkFBa0I7QUFDdEIsdUJBQVNMLE9BQU8sQ0FBQ00sSUFBUixFQUFUO0FBQ0E7QUFDQSxRQUFNLHFCQUFTTixPQUFULENBQU47QUFDSCxDQVBMO0FBU0FBLE9BQU8sQ0FBQ08sS0FBUixDQUFjQyxPQUFPLENBQUNDLElBQXRCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tbWFuZCB9IGZyb20gJ2NvbW1hbmRlcidcbmltcG9ydCAnc291cmNlLW1hcC1zdXBwb3J0L3JlZ2lzdGVyJ1xuaW1wb3J0IHsgZGV2Q21kIH0gZnJvbSAnLi9jb21tYW5kcy9kZXYnXG5pbXBvcnQgeyBidWlsZENtZCB9IGZyb20gJy4vY29tbWFuZHMvYnVpbGQnXG5pbXBvcnQgeyBwYXJzZU9wdCB9IGZyb20gJy4vdXRpbHMnXG5pbXBvcnQgeyBjbGVhbldvcmtzcGFjZSB9IGZyb20gJ0BjcmFuZWpzL3NoYXJlZCdcblxuY29uc3QgcHJvZ3JhbSA9IG5ldyBDb21tYW5kKClcblxucHJvZ3JhbS5vcHRpb24oJy0tbW9kZSA8bW9kZT4nLCAnQ3JhbmUgZW52aXJvbm1lbnQgbW9kZScpXG5cbnByb2dyYW1cbiAgICAuY29tbWFuZCgnZGV2JylcbiAgICAuZGVzY3JpcHRpb24oJ1J1biBkZXZlbG9wbWVudCBzZXJ2ZXInKVxuICAgIC5hY3Rpb24oYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgICBwYXJzZU9wdChwcm9ncmFtLm9wdHMoKSlcbiAgICAgICAgYXdhaXQgZGV2Q21kKHByb2dyYW0pXG4gICAgfSlcblxucHJvZ3JhbVxuICAgIC5jb21tYW5kKCdidWlsZCcpXG4gICAgLmRlc2NyaXB0aW9uKCdCdWlsZCBwcm9kdWN0aW9uIHZlcnNpb24nKVxuICAgIC5hY3Rpb24oYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgICBwYXJzZU9wdChwcm9ncmFtLm9wdHMoKSlcbiAgICAgICAgY2xlYW5Xb3Jrc3BhY2UoKVxuICAgICAgICBhd2FpdCBidWlsZENtZChwcm9ncmFtKVxuICAgIH0pXG5cbnByb2dyYW0ucGFyc2UocHJvY2Vzcy5hcmd2KVxuIl19