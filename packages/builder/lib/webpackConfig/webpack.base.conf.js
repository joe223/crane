"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = genBaseConfig;

var _core = require("@cranejs/core");

var _shared = require("@cranejs/shared");

const path = require('path');

const VueLoaderPlugin = require('vue-loader/lib/plugin');

const vueLoaderConfig = require('./vue-loader.conf');

const cwd = process.cwd();

function resolve(dir) {
  return path.join(cwd, dir);
}

const createLintingRule = () => ({
  test: /\.(js|vue|jsx)$/,
  loader: 'eslint-loader',
  enforce: 'pre',
  include: [resolve('modules'), resolve('test')],
  options: {
    formatter: require('eslint-friendly-formatter')
  }
});

const assetsPath = p => path.join('static', p);

function genBaseConfig(pageConfig) {
  const isVueApp = pageConfig.jsxType === 'react' ? false : true;
  const babelPlugins = [];
  const babelPreset = [];

  _shared.logger.debug('isVueApp' + isVueApp);

  if (isVueApp) {
    babelPlugins.push(require('babel-plugin-transform-vue-jsx'), require('@babel/plugin-syntax-jsx'));
  } else {
    babelPreset.push(require('@babel/preset-react'));
  }

  return {
    context: resolve('.'),
    resolve: {
      extensions: ['.js', '.vue', '.json', '.jsx'],
      alias: {
        '@': resolve('modules')
      }
    },
    resolveLoader: {
      modules: [path.resolve(__dirname, '../../node_modules'), 'node_modules']
    },
    module: {
      rules: [...(_core.config.useEslint ? [createLintingRule()] : []), {
        test: /\.pug$/,
        loader: 'pug-loader'
      }, {
        test: /\.vue$/,
        loader: 'vue-loader',
        options: vueLoaderConfig
      }, {
        test: /\.(js|jsx)$/,
        loader: 'babel-loader',
        include: [resolve('modules'), resolve('test'), resolve('node_modules/webpack-dev-server/client')],
        options: {
          presets: [['@babel/preset-env', {
            useBuiltIns: 'usage',
            corejs: 3,
            targets: {
              browsers: ['> 1%', 'last 2 versions', 'not ie <= 8']
            }
          }], ...babelPreset],
          plugins: babelPlugins
        }
      }, {
        test: /\.(png|jpe?g|gif)(\?.*)?$/,
        loader: 'url-loader',
        options: {
          limit: 10000,
          name: assetsPath('img/[name].[hash:7].[ext]')
        }
      }, {
        test: /\.(svg)(\?.*)?$/,
        loader: 'file-loader',
        options: {
          name: assetsPath('img/[name].[hash:7].[ext]')
        }
      }, {
        test: /\.(mp4|webm|ogg|mp3|wav|flac|aac)(\?.*)?$/,
        loader: 'url-loader',
        options: {
          limit: 10000,
          name: assetsPath('media/[name].[hash:7].[ext]')
        }
      }, {
        test: /\.(woff2?|eot|ttf|otf)(\?.*)?$/,
        loader: 'url-loader',
        options: {
          limit: 10000,
          name: assetsPath('fonts/[name].[hash:7].[ext]')
        }
      }]
    },
    plugins: [new VueLoaderPlugin()],
    node: {
      global: false,
      __filename: false,
      __dirname: false
    }
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy93ZWJwYWNrQ29uZmlnL3dlYnBhY2suYmFzZS5jb25mLmpzIl0sIm5hbWVzIjpbInBhdGgiLCJyZXF1aXJlIiwiVnVlTG9hZGVyUGx1Z2luIiwidnVlTG9hZGVyQ29uZmlnIiwiY3dkIiwicHJvY2VzcyIsInJlc29sdmUiLCJkaXIiLCJqb2luIiwiY3JlYXRlTGludGluZ1J1bGUiLCJ0ZXN0IiwibG9hZGVyIiwiZW5mb3JjZSIsImluY2x1ZGUiLCJvcHRpb25zIiwiZm9ybWF0dGVyIiwiYXNzZXRzUGF0aCIsInAiLCJnZW5CYXNlQ29uZmlnIiwicGFnZUNvbmZpZyIsImlzVnVlQXBwIiwianN4VHlwZSIsImJhYmVsUGx1Z2lucyIsImJhYmVsUHJlc2V0IiwibG9nZ2VyIiwiZGVidWciLCJwdXNoIiwiY29udGV4dCIsImV4dGVuc2lvbnMiLCJhbGlhcyIsInJlc29sdmVMb2FkZXIiLCJtb2R1bGVzIiwiX19kaXJuYW1lIiwibW9kdWxlIiwicnVsZXMiLCJjb25maWciLCJ1c2VFc2xpbnQiLCJwcmVzZXRzIiwidXNlQnVpbHRJbnMiLCJjb3JlanMiLCJ0YXJnZXRzIiwiYnJvd3NlcnMiLCJwbHVnaW5zIiwibGltaXQiLCJuYW1lIiwibm9kZSIsImdsb2JhbCIsIl9fZmlsZW5hbWUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFHQTs7QUFHQSxNQUFNQSxJQUFJLEdBQUdDLE9BQU8sQ0FBQyxNQUFELENBQXBCOztBQUNBLE1BQU1DLGVBQWUsR0FBR0QsT0FBTyxDQUFDLHVCQUFELENBQS9COztBQUNBLE1BQU1FLGVBQWUsR0FBR0YsT0FBTyxDQUFDLG1CQUFELENBQS9COztBQUNBLE1BQU1HLEdBQUcsR0FBR0MsT0FBTyxDQUFDRCxHQUFSLEVBQVo7O0FBRUEsU0FBU0UsT0FBVCxDQUFrQkMsR0FBbEIsRUFBdUI7QUFDbkIsU0FBT1AsSUFBSSxDQUFDUSxJQUFMLENBQVVKLEdBQVYsRUFBZUcsR0FBZixDQUFQO0FBQ0g7O0FBRUQsTUFBTUUsaUJBQWlCLEdBQUcsT0FBTztBQUM3QkMsRUFBQUEsSUFBSSxFQUFFLGlCQUR1QjtBQUU3QkMsRUFBQUEsTUFBTSxFQUFFLGVBRnFCO0FBRzdCQyxFQUFBQSxPQUFPLEVBQUUsS0FIb0I7QUFJN0JDLEVBQUFBLE9BQU8sRUFBRSxDQUFDUCxPQUFPLENBQUMsU0FBRCxDQUFSLEVBQXFCQSxPQUFPLENBQUMsTUFBRCxDQUE1QixDQUpvQjtBQUs3QlEsRUFBQUEsT0FBTyxFQUFFO0FBQ0xDLElBQUFBLFNBQVMsRUFBRWQsT0FBTyxDQUFDLDJCQUFEO0FBRGI7QUFMb0IsQ0FBUCxDQUExQjs7QUFTQSxNQUFNZSxVQUFVLEdBQUdDLENBQUMsSUFBSWpCLElBQUksQ0FBQ1EsSUFBTCxDQUFVLFFBQVYsRUFBb0JTLENBQXBCLENBQXhCOztBQUVlLFNBQVNDLGFBQVQsQ0FBd0JDLFVBQXhCLEVBQW9DO0FBQy9DLFFBQU1DLFFBQVEsR0FBR0QsVUFBVSxDQUFDRSxPQUFYLEtBQXVCLE9BQXZCLEdBQWlDLEtBQWpDLEdBQXlDLElBQTFEO0FBQ0EsUUFBTUMsWUFBWSxHQUFHLEVBQXJCO0FBQ0EsUUFBTUMsV0FBVyxHQUFHLEVBQXBCOztBQUVBQyxpQkFBT0MsS0FBUCxDQUFhLGFBQWFMLFFBQTFCOztBQUVBLE1BQUlBLFFBQUosRUFBYztBQUNWRSxJQUFBQSxZQUFZLENBQUNJLElBQWIsQ0FDSXpCLE9BQU8sQ0FBQyxnQ0FBRCxDQURYLEVBRUlBLE9BQU8sQ0FBQywwQkFBRCxDQUZYO0FBSUgsR0FMRCxNQUtPO0FBQ0hzQixJQUFBQSxXQUFXLENBQUNHLElBQVosQ0FBaUJ6QixPQUFPLENBQUMscUJBQUQsQ0FBeEI7QUFDSDs7QUFDRCxTQUFPO0FBQ0gwQixJQUFBQSxPQUFPLEVBQUVyQixPQUFPLENBQUMsR0FBRCxDQURiO0FBRUhBLElBQUFBLE9BQU8sRUFBRTtBQUNMc0IsTUFBQUEsVUFBVSxFQUFFLENBQUMsS0FBRCxFQUFRLE1BQVIsRUFBZ0IsT0FBaEIsRUFBeUIsTUFBekIsQ0FEUDtBQUVMQyxNQUFBQSxLQUFLLEVBQUU7QUFDSCxhQUFLdkIsT0FBTyxDQUFDLFNBQUQ7QUFEVDtBQUZGLEtBRk47QUFRSHdCLElBQUFBLGFBQWEsRUFBRTtBQUNYQyxNQUFBQSxPQUFPLEVBQUUsQ0FBQy9CLElBQUksQ0FBQ00sT0FBTCxDQUFhMEIsU0FBYixFQUF3QixvQkFBeEIsQ0FBRCxFQUFnRCxjQUFoRDtBQURFLEtBUlo7QUFXSEMsSUFBQUEsTUFBTSxFQUFFO0FBQ0pDLE1BQUFBLEtBQUssRUFBRSxDQUNILElBQUlDLGFBQU9DLFNBQVAsR0FBbUIsQ0FBQzNCLGlCQUFpQixFQUFsQixDQUFuQixHQUEyQyxFQUEvQyxDQURHLEVBRUg7QUFDSUMsUUFBQUEsSUFBSSxFQUFFLFFBRFY7QUFFSUMsUUFBQUEsTUFBTSxFQUFFO0FBRlosT0FGRyxFQU1IO0FBQ0lELFFBQUFBLElBQUksRUFBRSxRQURWO0FBRUlDLFFBQUFBLE1BQU0sRUFBRSxZQUZaO0FBR0lHLFFBQUFBLE9BQU8sRUFBRVg7QUFIYixPQU5HLEVBV0g7QUFDSU8sUUFBQUEsSUFBSSxFQUFFLGFBRFY7QUFFSUMsUUFBQUEsTUFBTSxFQUFFLGNBRlo7QUFHSUUsUUFBQUEsT0FBTyxFQUFFLENBQUNQLE9BQU8sQ0FBQyxTQUFELENBQVIsRUFBcUJBLE9BQU8sQ0FBQyxNQUFELENBQTVCLEVBQXNDQSxPQUFPLENBQUMsd0NBQUQsQ0FBN0MsQ0FIYjtBQUlJUSxRQUFBQSxPQUFPLEVBQUU7QUFDTHVCLFVBQUFBLE9BQU8sRUFBRSxDQUNMLENBQ0ksbUJBREosRUFFSTtBQUNJQyxZQUFBQSxXQUFXLEVBQUUsT0FEakI7QUFFSUMsWUFBQUEsTUFBTSxFQUFFLENBRlo7QUFHSUMsWUFBQUEsT0FBTyxFQUFFO0FBQ0xDLGNBQUFBLFFBQVEsRUFBRSxDQUNOLE1BRE0sRUFFTixpQkFGTSxFQUdOLGFBSE07QUFETDtBQUhiLFdBRkosQ0FESyxFQWVMLEdBQUdsQixXQWZFLENBREo7QUFrQkxtQixVQUFBQSxPQUFPLEVBQUVwQjtBQWxCSjtBQUpiLE9BWEcsRUFvQ0g7QUFDSVosUUFBQUEsSUFBSSxFQUFFLDJCQURWO0FBRUlDLFFBQUFBLE1BQU0sRUFBRSxZQUZaO0FBR0lHLFFBQUFBLE9BQU8sRUFBRTtBQUNMNkIsVUFBQUEsS0FBSyxFQUFFLEtBREY7QUFFTEMsVUFBQUEsSUFBSSxFQUFFNUIsVUFBVSxDQUFDLDJCQUFEO0FBRlg7QUFIYixPQXBDRyxFQTRDSDtBQUNJTixRQUFBQSxJQUFJLEVBQUUsaUJBRFY7QUFFSUMsUUFBQUEsTUFBTSxFQUFFLGFBRlo7QUFHSUcsUUFBQUEsT0FBTyxFQUFFO0FBQ0w4QixVQUFBQSxJQUFJLEVBQUU1QixVQUFVLENBQUMsMkJBQUQ7QUFEWDtBQUhiLE9BNUNHLEVBbURIO0FBQ0lOLFFBQUFBLElBQUksRUFBRSwyQ0FEVjtBQUVJQyxRQUFBQSxNQUFNLEVBQUUsWUFGWjtBQUdJRyxRQUFBQSxPQUFPLEVBQUU7QUFDTDZCLFVBQUFBLEtBQUssRUFBRSxLQURGO0FBRUxDLFVBQUFBLElBQUksRUFBRTVCLFVBQVUsQ0FBQyw2QkFBRDtBQUZYO0FBSGIsT0FuREcsRUEyREg7QUFDSU4sUUFBQUEsSUFBSSxFQUFFLGdDQURWO0FBRUlDLFFBQUFBLE1BQU0sRUFBRSxZQUZaO0FBR0lHLFFBQUFBLE9BQU8sRUFBRTtBQUNMNkIsVUFBQUEsS0FBSyxFQUFFLEtBREY7QUFFTEMsVUFBQUEsSUFBSSxFQUFFNUIsVUFBVSxDQUFDLDZCQUFEO0FBRlg7QUFIYixPQTNERztBQURILEtBWEw7QUFpRkgwQixJQUFBQSxPQUFPLEVBQUUsQ0FDTCxJQUFJeEMsZUFBSixFQURLLENBakZOO0FBb0ZIMkMsSUFBQUEsSUFBSSxFQUFFO0FBQ0ZDLE1BQUFBLE1BQU0sRUFBRSxLQUROO0FBRUZDLE1BQUFBLFVBQVUsRUFBRSxLQUZWO0FBR0ZmLE1BQUFBLFNBQVMsRUFBRTtBQUhUO0FBcEZILEdBQVA7QUEwRkgiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICAgIGNvbmZpZ1xufSBmcm9tICdAY3JhbmVqcy9jb3JlJ1xuaW1wb3J0IHtcbiAgICBsb2dnZXJcbn0gZnJvbSAnQGNyYW5lanMvc2hhcmVkJ1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKVxuY29uc3QgVnVlTG9hZGVyUGx1Z2luID0gcmVxdWlyZSgndnVlLWxvYWRlci9saWIvcGx1Z2luJylcbmNvbnN0IHZ1ZUxvYWRlckNvbmZpZyA9IHJlcXVpcmUoJy4vdnVlLWxvYWRlci5jb25mJylcbmNvbnN0IGN3ZCA9IHByb2Nlc3MuY3dkKClcblxuZnVuY3Rpb24gcmVzb2x2ZSAoZGlyKSB7XG4gICAgcmV0dXJuIHBhdGguam9pbihjd2QsIGRpcilcbn1cblxuY29uc3QgY3JlYXRlTGludGluZ1J1bGUgPSAoKSA9PiAoe1xuICAgIHRlc3Q6IC9cXC4oanN8dnVlfGpzeCkkLyxcbiAgICBsb2FkZXI6ICdlc2xpbnQtbG9hZGVyJyxcbiAgICBlbmZvcmNlOiAncHJlJyxcbiAgICBpbmNsdWRlOiBbcmVzb2x2ZSgnbW9kdWxlcycpLCByZXNvbHZlKCd0ZXN0JyldLFxuICAgIG9wdGlvbnM6IHtcbiAgICAgICAgZm9ybWF0dGVyOiByZXF1aXJlKCdlc2xpbnQtZnJpZW5kbHktZm9ybWF0dGVyJylcbiAgICB9XG59KVxuY29uc3QgYXNzZXRzUGF0aCA9IHAgPT4gcGF0aC5qb2luKCdzdGF0aWMnLCBwKVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZW5CYXNlQ29uZmlnIChwYWdlQ29uZmlnKSB7XG4gICAgY29uc3QgaXNWdWVBcHAgPSBwYWdlQ29uZmlnLmpzeFR5cGUgPT09ICdyZWFjdCcgPyBmYWxzZSA6IHRydWVcbiAgICBjb25zdCBiYWJlbFBsdWdpbnMgPSBbXVxuICAgIGNvbnN0IGJhYmVsUHJlc2V0ID0gW11cblxuICAgIGxvZ2dlci5kZWJ1ZygnaXNWdWVBcHAnICsgaXNWdWVBcHApXG5cbiAgICBpZiAoaXNWdWVBcHApIHtcbiAgICAgICAgYmFiZWxQbHVnaW5zLnB1c2goXG4gICAgICAgICAgICByZXF1aXJlKCdiYWJlbC1wbHVnaW4tdHJhbnNmb3JtLXZ1ZS1qc3gnKSxcbiAgICAgICAgICAgIHJlcXVpcmUoJ0BiYWJlbC9wbHVnaW4tc3ludGF4LWpzeCcpXG4gICAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgICBiYWJlbFByZXNldC5wdXNoKHJlcXVpcmUoJ0BiYWJlbC9wcmVzZXQtcmVhY3QnKSlcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY29udGV4dDogcmVzb2x2ZSgnLicpLFxuICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgICBleHRlbnNpb25zOiBbJy5qcycsICcudnVlJywgJy5qc29uJywgJy5qc3gnXSxcbiAgICAgICAgICAgIGFsaWFzOiB7XG4gICAgICAgICAgICAgICAgJ0AnOiByZXNvbHZlKCdtb2R1bGVzJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgcmVzb2x2ZUxvYWRlcjoge1xuICAgICAgICAgICAgbW9kdWxlczogW3BhdGgucmVzb2x2ZShfX2Rpcm5hbWUsICcuLi8uLi9ub2RlX21vZHVsZXMnKSwgJ25vZGVfbW9kdWxlcyddXG4gICAgICAgIH0sXG4gICAgICAgIG1vZHVsZToge1xuICAgICAgICAgICAgcnVsZXM6IFtcbiAgICAgICAgICAgICAgICAuLi4oY29uZmlnLnVzZUVzbGludCA/IFtjcmVhdGVMaW50aW5nUnVsZSgpXSA6IFtdKSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRlc3Q6IC9cXC5wdWckLyxcbiAgICAgICAgICAgICAgICAgICAgbG9hZGVyOiAncHVnLWxvYWRlcidcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGVzdDogL1xcLnZ1ZSQvLFxuICAgICAgICAgICAgICAgICAgICBsb2FkZXI6ICd2dWUtbG9hZGVyJyxcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogdnVlTG9hZGVyQ29uZmlnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRlc3Q6IC9cXC4oanN8anN4KSQvLFxuICAgICAgICAgICAgICAgICAgICBsb2FkZXI6ICdiYWJlbC1sb2FkZXInLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdWRlOiBbcmVzb2x2ZSgnbW9kdWxlcycpLCByZXNvbHZlKCd0ZXN0JyksIHJlc29sdmUoJ25vZGVfbW9kdWxlcy93ZWJwYWNrLWRldi1zZXJ2ZXIvY2xpZW50JyldLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVzZXRzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQGJhYmVsL3ByZXNldC1lbnYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VCdWlsdEluczogJ3VzYWdlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcmVqczogMyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicm93c2VyczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPiAxJScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdsYXN0IDIgdmVyc2lvbnMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbm90IGllIDw9IDgnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5iYWJlbFByZXNldFxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsdWdpbnM6IGJhYmVsUGx1Z2luc1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRlc3Q6IC9cXC4ocG5nfGpwZT9nfGdpZikoXFw/LiopPyQvLFxuICAgICAgICAgICAgICAgICAgICBsb2FkZXI6ICd1cmwtbG9hZGVyJyxcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGltaXQ6IDEwMDAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogYXNzZXRzUGF0aCgnaW1nL1tuYW1lXS5baGFzaDo3XS5bZXh0XScpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGVzdDogL1xcLihzdmcpKFxcPy4qKT8kLyxcbiAgICAgICAgICAgICAgICAgICAgbG9hZGVyOiAnZmlsZS1sb2FkZXInLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBhc3NldHNQYXRoKCdpbWcvW25hbWVdLltoYXNoOjddLltleHRdJylcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0ZXN0OiAvXFwuKG1wNHx3ZWJtfG9nZ3xtcDN8d2F2fGZsYWN8YWFjKShcXD8uKik/JC8sXG4gICAgICAgICAgICAgICAgICAgIGxvYWRlcjogJ3VybC1sb2FkZXInLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW1pdDogMTAwMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBhc3NldHNQYXRoKCdtZWRpYS9bbmFtZV0uW2hhc2g6N10uW2V4dF0nKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRlc3Q6IC9cXC4od29mZjI/fGVvdHx0dGZ8b3RmKShcXD8uKik/JC8sXG4gICAgICAgICAgICAgICAgICAgIGxvYWRlcjogJ3VybC1sb2FkZXInLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW1pdDogMTAwMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBhc3NldHNQYXRoKCdmb250cy9bbmFtZV0uW2hhc2g6N10uW2V4dF0nKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICBwbHVnaW5zOiBbXG4gICAgICAgICAgICBuZXcgVnVlTG9hZGVyUGx1Z2luKClcbiAgICAgICAgXSxcbiAgICAgICAgbm9kZToge1xuICAgICAgICAgICAgZ2xvYmFsOiBmYWxzZSxcbiAgICAgICAgICAgIF9fZmlsZW5hbWU6IGZhbHNlLFxuICAgICAgICAgICAgX19kaXJuYW1lOiBmYWxzZVxuICAgICAgICB9XG4gICAgfVxufVxuIl19