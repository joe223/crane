"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = genBaseConfig;

var _core = require("@cranejs/core");

var _shared = require("@cranejs/shared");

const path = require('path');

const VueLoaderPlugin = require('vue-loader/lib/plugin');

const vueLoaderConfig = require('./vue-loader.conf');

const cwd = process.cwd();

function resolve(dir) {
  return path.join(cwd, dir);
}

const createLintingRule = () => ({
  test: /\.(js|vue|jsx)$/,
  loader: 'eslint-loader',
  enforce: 'pre',
  include: [resolve('modules'), resolve('test')],
  options: {
    formatter: require('eslint-friendly-formatter')
  }
});

const assetsPath = p => path.join('assets', p);

function genBaseConfig(pageConfig) {
  const isVueApp = pageConfig.jsxType === 'react' ? false : true;
  const babelPlugins = [];
  const babelPreset = [];

  _shared.logger.debug('isVueApp' + isVueApp);

  if (isVueApp) {
    babelPlugins.push(require('babel-plugin-transform-vue-jsx'), require('@babel/plugin-syntax-jsx'));
  } else {
    babelPreset.push(require('@babel/preset-react'));
  }

  return {
    context: resolve('.'),
    resolve: {
      extensions: ['.js', '.vue', '.json', '.jsx'],
      alias: {
        '@': resolve('modules')
      }
    },
    resolveLoader: {
      modules: [path.resolve(__dirname, '../../node_modules'), path.resolve(cwd, './node_modules')]
    },
    module: {
      rules: [...(_core.config.useEslint ? [createLintingRule()] : []), {
        test: /\.pug$/,
        loader: 'pug-loader'
      }, {
        test: /\.vue$/,
        loader: 'vue-loader',
        options: vueLoaderConfig
      }, {
        test: /\.(js|jsx)$/,
        loader: 'babel-loader',
        include: [resolve('modules'), resolve('test'), resolve('node_modules/webpack-dev-server/client')],
        options: {
          presets: [['@babel/preset-env', {
            useBuiltIns: 'usage',
            corejs: 3,
            targets: {
              browsers: ['> 1%', 'last 2 versions', 'not ie <= 8']
            }
          }], ...babelPreset],
          plugins: babelPlugins
        }
      }, {
        test: /\.(png|jpe?g|gif)(\?.*)?$/,
        loader: 'url-loader',
        options: {
          limit: 10000,
          name: assetsPath('img/[name].[hash:7].[ext]')
        }
      }, {
        test: /\.(svg)(\?.*)?$/,
        loader: 'file-loader',
        options: {
          name: assetsPath('img/[name].[hash:7].[ext]')
        }
      }, {
        test: /\.(mp4|webm|ogg|mp3|wav|flac|aac)(\?.*)?$/,
        loader: 'url-loader',
        options: {
          limit: 10000,
          name: assetsPath('media/[name].[hash:7].[ext]')
        }
      }, {
        test: /\.(woff2?|eot|ttf|otf)(\?.*)?$/,
        loader: 'url-loader',
        options: {
          limit: 10000,
          name: assetsPath('fonts/[name].[hash:7].[ext]')
        }
      }]
    },
    plugins: [new VueLoaderPlugin()],
    node: {
      global: false,
      __filename: false,
      __dirname: false
    }
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy93ZWJwYWNrQ29uZmlnL3dlYnBhY2suYmFzZS5jb25mLmpzIl0sIm5hbWVzIjpbInBhdGgiLCJyZXF1aXJlIiwiVnVlTG9hZGVyUGx1Z2luIiwidnVlTG9hZGVyQ29uZmlnIiwiY3dkIiwicHJvY2VzcyIsInJlc29sdmUiLCJkaXIiLCJqb2luIiwiY3JlYXRlTGludGluZ1J1bGUiLCJ0ZXN0IiwibG9hZGVyIiwiZW5mb3JjZSIsImluY2x1ZGUiLCJvcHRpb25zIiwiZm9ybWF0dGVyIiwiYXNzZXRzUGF0aCIsInAiLCJnZW5CYXNlQ29uZmlnIiwicGFnZUNvbmZpZyIsImlzVnVlQXBwIiwianN4VHlwZSIsImJhYmVsUGx1Z2lucyIsImJhYmVsUHJlc2V0IiwibG9nZ2VyIiwiZGVidWciLCJwdXNoIiwiY29udGV4dCIsImV4dGVuc2lvbnMiLCJhbGlhcyIsInJlc29sdmVMb2FkZXIiLCJtb2R1bGVzIiwiX19kaXJuYW1lIiwibW9kdWxlIiwicnVsZXMiLCJjb25maWciLCJ1c2VFc2xpbnQiLCJwcmVzZXRzIiwidXNlQnVpbHRJbnMiLCJjb3JlanMiLCJ0YXJnZXRzIiwiYnJvd3NlcnMiLCJwbHVnaW5zIiwibGltaXQiLCJuYW1lIiwibm9kZSIsImdsb2JhbCIsIl9fZmlsZW5hbWUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQSxNQUFNQSxJQUFJLEdBQUdDLE9BQU8sQ0FBQyxNQUFELENBQXBCOztBQUNBLE1BQU1DLGVBQWUsR0FBR0QsT0FBTyxDQUFDLHVCQUFELENBQS9COztBQUNBLE1BQU1FLGVBQWUsR0FBR0YsT0FBTyxDQUFDLG1CQUFELENBQS9COztBQUNBLE1BQU1HLEdBQUcsR0FBR0MsT0FBTyxDQUFDRCxHQUFSLEVBQVo7O0FBRUEsU0FBU0UsT0FBVCxDQUFpQkMsR0FBakIsRUFBc0I7QUFDbEIsU0FBT1AsSUFBSSxDQUFDUSxJQUFMLENBQVVKLEdBQVYsRUFBZUcsR0FBZixDQUFQO0FBQ0g7O0FBRUQsTUFB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QGNyYW5lanMvY29yZSdcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJ0BjcmFuZWpzL3NoYXJlZCdcbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJylcbmNvbnN0IFZ1ZUxvYWRlclBsdWdpbiA9IHJlcXVpcmUoJ3Z1ZS1sb2FkZXIvbGliL3BsdWdpbicpXG5jb25zdCB2dWVMb2FkZXJDb25maWcgPSByZXF1aXJlKCcuL3Z1ZS1sb2FkZXIuY29uZicpXG5jb25zdCBjd2QgPSBwcm9jZXNzLmN3ZCgpXG5cbmZ1bmN0aW9uIHJlc29sdmUoZGlyKSB7XG4gICAgcmV0dXJuIHBhdGguam9pbihjd2QsIGRpcilcbn1cblxuY29uc3QgY3JlYXRlTGludGluZ1J1bGUgPSAoKSA9PiAoe1xuICAgIHRlc3Q6IC9cXC4oanN8dnVlfGpzeCkkLyxcbiAgICBsb2FkZXI6ICdlc2xpbnQtbG9hZGVyJyxcbiAgICBlbmZvcmNlOiAncHJlJyxcbiAgICBpbmNsdWRlOiBbcmVzb2x2ZSgnbW9kdWxlcycpLCByZXNvbHZlKCd0ZXN0JyldLFxuICAgIG9wdGlvbnM6IHtcbiAgICAgICAgZm9ybWF0dGVyOiByZXF1aXJlKCdlc2xpbnQtZnJpZW5kbHktZm9ybWF0dGVyJyksXG4gICAgfSxcbn0pXG5jb25zdCBhc3NldHNQYXRoID0gKHApID0+IHBhdGguam9pbignYXNzZXRzJywgcClcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2VuQmFzZUNvbmZpZyhwYWdlQ29uZmlnKSB7XG4gICAgY29uc3QgaXNWdWVBcHAgPSBwYWdlQ29uZmlnLmpzeFR5cGUgPT09ICdyZWFjdCcgPyBmYWxzZSA6IHRydWVcbiAgICBjb25zdCBiYWJlbFBsdWdpbnMgPSBbXVxuICAgIGNvbnN0IGJhYmVsUHJlc2V0ID0gW11cblxuICAgIGxvZ2dlci5kZWJ1ZygnaXNWdWVBcHAnICsgaXNWdWVBcHApXG5cbiAgICBpZiAoaXNWdWVBcHApIHtcbiAgICAgICAgYmFiZWxQbHVnaW5zLnB1c2goXG4gICAgICAgICAgICByZXF1aXJlKCdiYWJlbC1wbHVnaW4tdHJhbnNmb3JtLXZ1ZS1qc3gnKSxcbiAgICAgICAgICAgIHJlcXVpcmUoJ0BiYWJlbC9wbHVnaW4tc3ludGF4LWpzeCcpXG4gICAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgICBiYWJlbFByZXNldC5wdXNoKHJlcXVpcmUoJ0BiYWJlbC9wcmVzZXQtcmVhY3QnKSlcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY29udGV4dDogcmVzb2x2ZSgnLicpLFxuICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgICBleHRlbnNpb25zOiBbJy5qcycsICcudnVlJywgJy5qc29uJywgJy5qc3gnXSxcbiAgICAgICAgICAgIGFsaWFzOiB7XG4gICAgICAgICAgICAgICAgJ0AnOiByZXNvbHZlKCdtb2R1bGVzJyksXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICByZXNvbHZlTG9hZGVyOiB7XG4gICAgICAgICAgICBtb2R1bGVzOiBbXG4gICAgICAgICAgICAgICAgcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgJy4uLy4uL25vZGVfbW9kdWxlcycpLFxuICAgICAgICAgICAgICAgIHBhdGgucmVzb2x2ZShjd2QsICcuL25vZGVfbW9kdWxlcycpXG4gICAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgICBtb2R1bGU6IHtcbiAgICAgICAgICAgIHJ1bGVzOiBbXG4gICAgICAgICAgICAgICAgLi4uKGNvbmZpZy51c2VFc2xpbnQgPyBbY3JlYXRlTGludGluZ1J1bGUoKV0gOiBbXSksXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0ZXN0OiAvXFwucHVnJC8sXG4gICAgICAgICAgICAgICAgICAgIGxvYWRlcjogJ3B1Zy1sb2FkZXInLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0ZXN0OiAvXFwudnVlJC8sXG4gICAgICAgICAgICAgICAgICAgIGxvYWRlcjogJ3Z1ZS1sb2FkZXInLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB2dWVMb2FkZXJDb25maWcsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRlc3Q6IC9cXC4oanN8anN4KSQvLFxuICAgICAgICAgICAgICAgICAgICBsb2FkZXI6ICdiYWJlbC1sb2FkZXInLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdWRlOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdtb2R1bGVzJyksXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCd0ZXN0JyksXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdub2RlX21vZHVsZXMvd2VicGFjay1kZXYtc2VydmVyL2NsaWVudCcpLFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVzZXRzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQGJhYmVsL3ByZXNldC1lbnYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VCdWlsdEluczogJ3VzYWdlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcmVqczogMyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicm93c2VyczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPiAxJScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdsYXN0IDIgdmVyc2lvbnMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbm90IGllIDw9IDgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uYmFiZWxQcmVzZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGx1Z2luczogYmFiZWxQbHVnaW5zLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0ZXN0OiAvXFwuKHBuZ3xqcGU/Z3xnaWYpKFxcPy4qKT8kLyxcbiAgICAgICAgICAgICAgICAgICAgbG9hZGVyOiAndXJsLWxvYWRlcicsXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbWl0OiAxMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGFzc2V0c1BhdGgoJ2ltZy9bbmFtZV0uW2hhc2g6N10uW2V4dF0nKSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGVzdDogL1xcLihzdmcpKFxcPy4qKT8kLyxcbiAgICAgICAgICAgICAgICAgICAgbG9hZGVyOiAnZmlsZS1sb2FkZXInLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBhc3NldHNQYXRoKCdpbWcvW25hbWVdLltoYXNoOjddLltleHRdJyksXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRlc3Q6IC9cXC4obXA0fHdlYm18b2dnfG1wM3x3YXZ8ZmxhY3xhYWMpKFxcPy4qKT8kLyxcbiAgICAgICAgICAgICAgICAgICAgbG9hZGVyOiAndXJsLWxvYWRlcicsXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbWl0OiAxMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGFzc2V0c1BhdGgoJ21lZGlhL1tuYW1lXS5baGFzaDo3XS5bZXh0XScpLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0ZXN0OiAvXFwuKHdvZmYyP3xlb3R8dHRmfG90ZikoXFw/LiopPyQvLFxuICAgICAgICAgICAgICAgICAgICBsb2FkZXI6ICd1cmwtbG9hZGVyJyxcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGltaXQ6IDEwMDAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogYXNzZXRzUGF0aCgnZm9udHMvW25hbWVdLltoYXNoOjddLltleHRdJyksXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICAgIHBsdWdpbnM6IFtuZXcgVnVlTG9hZGVyUGx1Z2luKCldLFxuICAgICAgICBub2RlOiB7XG4gICAgICAgICAgICBnbG9iYWw6IGZhbHNlLFxuICAgICAgICAgICAgX19maWxlbmFtZTogZmFsc2UsXG4gICAgICAgICAgICBfX2Rpcm5hbWU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgIH1cbn1cbiJdfQ==