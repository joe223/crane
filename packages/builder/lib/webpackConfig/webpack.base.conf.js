"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = genBaseConfig;

var _core = require("@cranejs/core");

var _shared = require("@cranejs/shared");

const path = require('path');

const VueLoaderPlugin = require('vue-loader/lib/plugin');

const vueLoaderConfig = require('./vue-loader.conf');

const cwd = process.cwd();

function resolve(dir) {
  return path.join(cwd, dir);
}

const createLintingRule = () => ({
  test: /\.(js|vue|jsx)$/,
  loader: 'eslint-loader',
  enforce: 'pre',
  include: [resolve('modules'), resolve('test')],
  options: {
    formatter: require('eslint-friendly-formatter')
  }
});

const assetsPath = p => path.join('static', p);

function genBaseConfig(pageConfig) {
  const isVueApp = pageConfig.jsxType === 'react' ? false : true;
  const babelPlugins = [];
  const babelPreset = [];

  _shared.logger.debug('isVueApp' + isVueApp);

  if (isVueApp) {
    babelPlugins.push(require('babel-plugin-transform-vue-jsx'), require('@babel/plugin-syntax-jsx'));
  } else {
    babelPreset.push(require('@babel/preset-react'));
  }

  return {
    context: resolve('.'),
    resolve: {
      extensions: ['.js', '.vue', '.json', '.jsx'],
      alias: {
        '@': resolve('modules')
      }
    },
    resolveLoader: {
      modules: [path.resolve(__dirname, '../../node_modules'), 'node_modules']
    },
    module: {
      rules: [...(_core.config.useEslint ? [createLintingRule()] : []), {
        test: /\.pug$/,
        loader: 'pug-loader'
      }, {
        test: /\.vue$/,
        loader: 'vue-loader',
        options: vueLoaderConfig
      }, {
        test: /\.(js|jsx)$/,
        loader: 'babel-loader',
        include: [resolve('modules'), resolve('test'), resolve('node_modules/webpack-dev-server/client')],
        options: {
          presets: [['@babel/preset-env', {
            useBuiltIns: 'usage',
            corejs: 3,
            targets: {
              browsers: ['> 1%', 'last 2 versions', 'not ie <= 8']
            }
          }], ...babelPreset],
          plugins: babelPlugins
        }
      }, {
        test: /\.(png|jpe?g|gif)(\?.*)?$/,
        loader: 'url-loader',
        options: {
          limit: 10000,
          name: assetsPath('img/[name].[hash:7].[ext]')
        }
      }, {
        test: /\.(svg)(\?.*)?$/,
        loader: 'file-loader',
        options: {
          name: assetsPath('img/[name].[hash:7].[ext]')
        }
      }, {
        test: /\.(mp4|webm|ogg|mp3|wav|flac|aac)(\?.*)?$/,
        loader: 'url-loader',
        options: {
          limit: 10000,
          name: assetsPath('media/[name].[hash:7].[ext]')
        }
      }, {
        test: /\.(woff2?|eot|ttf|otf)(\?.*)?$/,
        loader: 'url-loader',
        options: {
          limit: 10000,
          name: assetsPath('fonts/[name].[hash:7].[ext]')
        }
      }]
    },
    plugins: [new VueLoaderPlugin()],
    node: {
      global: false,
      __filename: false,
      __dirname: false
    }
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy93ZWJwYWNrQ29uZmlnL3dlYnBhY2suYmFzZS5jb25mLmpzIl0sIm5hbWVzIjpbInBhdGgiLCJyZXF1aXJlIiwiVnVlTG9hZGVyUGx1Z2luIiwidnVlTG9hZGVyQ29uZmlnIiwiY3dkIiwicHJvY2VzcyIsInJlc29sdmUiLCJkaXIiLCJqb2luIiwiY3JlYXRlTGludGluZ1J1bGUiLCJ0ZXN0IiwibG9hZGVyIiwiZW5mb3JjZSIsImluY2x1ZGUiLCJvcHRpb25zIiwiZm9ybWF0dGVyIiwiYXNzZXRzUGF0aCIsInAiLCJnZW5CYXNlQ29uZmlnIiwicGFnZUNvbmZpZyIsImlzVnVlQXBwIiwianN4VHlwZSIsImJhYmVsUGx1Z2lucyIsImJhYmVsUHJlc2V0IiwibG9nZ2VyIiwiZGVidWciLCJwdXNoIiwiY29udGV4dCIsImV4dGVuc2lvbnMiLCJhbGlhcyIsInJlc29sdmVMb2FkZXIiLCJtb2R1bGVzIiwiX19kaXJuYW1lIiwibW9kdWxlIiwicnVsZXMiLCJjb25maWciLCJ1c2VFc2xpbnQiLCJwcmVzZXRzIiwidXNlQnVpbHRJbnMiLCJjb3JlanMiLCJ0YXJnZXRzIiwiYnJvd3NlcnMiLCJwbHVnaW5zIiwibGltaXQiLCJuYW1lIiwibm9kZSIsImdsb2JhbCIsIl9fZmlsZW5hbWUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQSxNQUFNQSxJQUFJLEdBQUdDLE9BQU8sQ0FBQyxNQUFELENBQXBCOztBQUNBLE1BQU1DLGVBQWUsR0FBR0QsT0FBTyxDQUFDLHVCQUFELENBQS9COztBQUNBLE1BQU1FLGVBQWUsR0FBR0YsT0FBTyxDQUFDLG1CQUFELENBQS9COztBQUNBLE1BQU1HLEdBQUcsR0FBR0MsT0FBTyxDQUFDRCxHQUFSLEVBQVo7O0FBRUEsU0FBU0UsT0FBVCxDQUFpQkMsR0FBakIsRUFBc0I7QUFDbEIsU0FBT1AsSUFBSSxDQUFDUSxJQUFMLENBQVVKLEdBQVYsRUFBZUcsR0FBZixDQUFQO0FBQ0g7O0FBRUQsTUFB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UUFBQUEsSUFBSSxFQUFFLDJCQURWO0FBRUlDLFFBQUFBLE1BQU0sRUFBRSxZQUZaO0FBR0lHLFFBQUFBLE9BQU8sRUFBRTtBQUNMNkIsVUFBQUEsS0FBSyxFQUFFLEtBREY7QUFFTEMsVUFBQUEsSUFBSSxFQUFFNUIsVUFBVSxDQUFDLDJCQUFEO0FBRlg7QUFIYixPQXhDRyxFQWdESDtBQUNJTixRQUFBQSxJQUFJLEVBQUUsaUJBRFY7QUFFSUMsUUFBQUEsTUFBTSxFQUFFLGFBRlo7QUFHSUcsUUFBQUEsT0FBTyxFQUFFO0FBQ0w4QixVQUFBQSxJQUFJLEVBQUU1QixVQUFVLENBQUMsMkJBQUQ7QUFEWDtBQUhiLE9BaERHLEVBdURIO0FBQ0lOLFFBQUFBLElBQUksRUFBRSwyQ0FEVjtBQUVJQyxRQUFBQSxNQUFNLEVBQUUsWUFGWjtBQUdJRyxRQUFBQSxPQUFPLEVBQUU7QUFDTDZCLFVBQUFBLEtBQUssRUFBRSxLQURGO0FBRUxDLFVBQUFBLElBQUksRUFBRTVCLFVBQVUsQ0FBQyw2QkFBRDtBQUZYO0FBSGIsT0F2REcsRUErREg7QUFDSU4sUUFBQUEsSUFBSSxFQUFFLGdDQURWO0FBRUlDLFFBQUFBLE1BQU0sRUFBRSxZQUZaO0FBR0lHLFFBQUFBLE9BQU8sRUFBRTtBQUNMNkIsVUFBQUEsS0FBSyxFQUFFLEtBREY7QUFFTEMsVUFBQUEsSUFBSSxFQUFFNUIsVUFBVSxDQUFDLDZCQUFEO0FBRlg7QUFIYixPQS9ERztBQURILEtBZEw7QUF3RkgwQixJQUFBQSxPQUFPLEVBQUUsQ0FBQyxJQUFJeEMsZUFBSixFQUFELENBeEZOO0FBeUZIMkMsSUFBQUEsSUFBSSxFQUFFO0FBQ0ZDLE1BQUFBLE1BQU0sRUFBRSxLQUROO0FBRUZDLE1BQUFBLFVBQVUsRUFBRSxLQUZWO0FBR0ZmLE1BQUFBLFNBQVMsRUFBRTtBQUhUO0FBekZILEdBQVA7QUErRkgiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb25maWcgfSBmcm9tICdAY3JhbmVqcy9jb3JlJ1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnQGNyYW5lanMvc2hhcmVkJ1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKVxuY29uc3QgVnVlTG9hZGVyUGx1Z2luID0gcmVxdWlyZSgndnVlLWxvYWRlci9saWIvcGx1Z2luJylcbmNvbnN0IHZ1ZUxvYWRlckNvbmZpZyA9IHJlcXVpcmUoJy4vdnVlLWxvYWRlci5jb25mJylcbmNvbnN0IGN3ZCA9IHByb2Nlc3MuY3dkKClcblxuZnVuY3Rpb24gcmVzb2x2ZShkaXIpIHtcbiAgICByZXR1cm4gcGF0aC5qb2luKGN3ZCwgZGlyKVxufVxuXG5jb25zdCBjcmVhdGVMaW50aW5nUnVsZSA9ICgpID0+ICh7XG4gICAgdGVzdDogL1xcLihqc3x2dWV8anN4KSQvLFxuICAgIGxvYWRlcjogJ2VzbGludC1sb2FkZXInLFxuICAgIGVuZm9yY2U6ICdwcmUnLFxuICAgIGluY2x1ZGU6IFtyZXNvbHZlKCdtb2R1bGVzJyksIHJlc29sdmUoJ3Rlc3QnKV0sXG4gICAgb3B0aW9uczoge1xuICAgICAgICBmb3JtYXR0ZXI6IHJlcXVpcmUoJ2VzbGludC1mcmllbmRseS1mb3JtYXR0ZXInKSxcbiAgICB9LFxufSlcbmNvbnN0IGFzc2V0c1BhdGggPSAocCkgPT4gcGF0aC5qb2luKCdzdGF0aWMnLCBwKVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZW5CYXNlQ29uZmlnKHBhZ2VDb25maWcpIHtcbiAgICBjb25zdCBpc1Z1ZUFwcCA9IHBhZ2VDb25maWcuanN4VHlwZSA9PT0gJ3JlYWN0JyA/IGZhbHNlIDogdHJ1ZVxuICAgIGNvbnN0IGJhYmVsUGx1Z2lucyA9IFtdXG4gICAgY29uc3QgYmFiZWxQcmVzZXQgPSBbXVxuXG4gICAgbG9nZ2VyLmRlYnVnKCdpc1Z1ZUFwcCcgKyBpc1Z1ZUFwcClcblxuICAgIGlmIChpc1Z1ZUFwcCkge1xuICAgICAgICBiYWJlbFBsdWdpbnMucHVzaChcbiAgICAgICAgICAgIHJlcXVpcmUoJ2JhYmVsLXBsdWdpbi10cmFuc2Zvcm0tdnVlLWpzeCcpLFxuICAgICAgICAgICAgcmVxdWlyZSgnQGJhYmVsL3BsdWdpbi1zeW50YXgtanN4JylcbiAgICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGJhYmVsUHJlc2V0LnB1c2gocmVxdWlyZSgnQGJhYmVsL3ByZXNldC1yZWFjdCcpKVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBjb250ZXh0OiByZXNvbHZlKCcuJyksXG4gICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICAgIGV4dGVuc2lvbnM6IFsnLmpzJywgJy52dWUnLCAnLmpzb24nLCAnLmpzeCddLFxuICAgICAgICAgICAgYWxpYXM6IHtcbiAgICAgICAgICAgICAgICAnQCc6IHJlc29sdmUoJ21vZHVsZXMnKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHJlc29sdmVMb2FkZXI6IHtcbiAgICAgICAgICAgIG1vZHVsZXM6IFtcbiAgICAgICAgICAgICAgICBwYXRoLnJlc29sdmUoX19kaXJuYW1lLCAnLi4vLi4vbm9kZV9tb2R1bGVzJyksXG4gICAgICAgICAgICAgICAgJ25vZGVfbW9kdWxlcycsXG4gICAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgICBtb2R1bGU6IHtcbiAgICAgICAgICAgIHJ1bGVzOiBbXG4gICAgICAgICAgICAgICAgLi4uKGNvbmZpZy51c2VFc2xpbnQgPyBbY3JlYXRlTGludGluZ1J1bGUoKV0gOiBbXSksXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0ZXN0OiAvXFwucHVnJC8sXG4gICAgICAgICAgICAgICAgICAgIGxvYWRlcjogJ3B1Zy1sb2FkZXInLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0ZXN0OiAvXFwudnVlJC8sXG4gICAgICAgICAgICAgICAgICAgIGxvYWRlcjogJ3Z1ZS1sb2FkZXInLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB2dWVMb2FkZXJDb25maWcsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRlc3Q6IC9cXC4oanN8anN4KSQvLFxuICAgICAgICAgICAgICAgICAgICBsb2FkZXI6ICdiYWJlbC1sb2FkZXInLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdWRlOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdtb2R1bGVzJyksXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCd0ZXN0JyksXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdub2RlX21vZHVsZXMvd2VicGFjay1kZXYtc2VydmVyL2NsaWVudCcpLFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVzZXRzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQGJhYmVsL3ByZXNldC1lbnYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VCdWlsdEluczogJ3VzYWdlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcmVqczogMyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicm93c2VyczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPiAxJScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdsYXN0IDIgdmVyc2lvbnMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbm90IGllIDw9IDgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uYmFiZWxQcmVzZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGx1Z2luczogYmFiZWxQbHVnaW5zLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0ZXN0OiAvXFwuKHBuZ3xqcGU/Z3xnaWYpKFxcPy4qKT8kLyxcbiAgICAgICAgICAgICAgICAgICAgbG9hZGVyOiAndXJsLWxvYWRlcicsXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbWl0OiAxMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGFzc2V0c1BhdGgoJ2ltZy9bbmFtZV0uW2hhc2g6N10uW2V4dF0nKSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGVzdDogL1xcLihzdmcpKFxcPy4qKT8kLyxcbiAgICAgICAgICAgICAgICAgICAgbG9hZGVyOiAnZmlsZS1sb2FkZXInLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBhc3NldHNQYXRoKCdpbWcvW25hbWVdLltoYXNoOjddLltleHRdJyksXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRlc3Q6IC9cXC4obXA0fHdlYm18b2dnfG1wM3x3YXZ8ZmxhY3xhYWMpKFxcPy4qKT8kLyxcbiAgICAgICAgICAgICAgICAgICAgbG9hZGVyOiAndXJsLWxvYWRlcicsXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbWl0OiAxMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGFzc2V0c1BhdGgoJ21lZGlhL1tuYW1lXS5baGFzaDo3XS5bZXh0XScpLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0ZXN0OiAvXFwuKHdvZmYyP3xlb3R8dHRmfG90ZikoXFw/LiopPyQvLFxuICAgICAgICAgICAgICAgICAgICBsb2FkZXI6ICd1cmwtbG9hZGVyJyxcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGltaXQ6IDEwMDAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogYXNzZXRzUGF0aCgnZm9udHMvW25hbWVdLltoYXNoOjddLltleHRdJyksXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICAgIHBsdWdpbnM6IFtuZXcgVnVlTG9hZGVyUGx1Z2luKCldLFxuICAgICAgICBub2RlOiB7XG4gICAgICAgICAgICBnbG9iYWw6IGZhbHNlLFxuICAgICAgICAgICAgX19maWxlbmFtZTogZmFsc2UsXG4gICAgICAgICAgICBfX2Rpcm5hbWU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgIH1cbn1cbiJdfQ==