"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = genConfig;

var _core = require("@cranejs/core");

function genConfig(module) {
  const webpackConfig = merge(baseWebpackConfig, {
    output: {
      path: _core.config.assetsRoot,
      filename: '[name].js',
      publicPath: process.env.NODE_ENV === 'production' ? _core.config.build.assetsPublicPath : _core.config.dev.assetsPublicPath
    },
    mode: 'development',
    // use inline sourcemap for karma-sourcemap-loader
    module: {
      rules: utils.styleLoaders(module)
    },
    devtool: 'inline-cheap-module-source-map',
    resolveLoader: {
      alias: {
        // necessary to to make lang="scss" work in test when using vue-loader's ?inject option
        // see discussion at https://github.com/vuejs/vue-loader/issues/724
        'scss-loader': 'sass-loader'
      }
    },
    plugins: []
  }); // no need for app entry during tests

  delete webpackConfig.entry;
  return webpackConfig;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy93ZWJwYWNrQ29uZmlnL3dlYnBhY2sudGVzdC5jb25mLmpzIl0sIm5hbWVzIjpbImdlbkNvbmZpZyIsIm1vZHVsZSIsIndlYnBhY2tDb25maWciLCJtZXJnZSIsImJhc2VXZWJwYWNrQ29uZmlnIiwib3V0cHV0IiwicGF0aCIsImNvbmZpZyIsImFzc2V0c1Jvb3QiLCJmaWxlbmFtZSIsInB1YmxpY1BhdGgiLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJidWlsZCIsImFzc2V0c1B1YmxpY1BhdGgiLCJkZXYiLCJtb2RlIiwicnVsZXMiLCJ1dGlscyIsInN0eWxlTG9hZGVycyIsImRldnRvb2wiLCJyZXNvbHZlTG9hZGVyIiwiYWxpYXMiLCJwbHVnaW5zIiwiZW50cnkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFZSxTQUFTQSxTQUFULENBQW1CQyxNQUFuQixFQUEyQjtBQUN0QyxRQUFNQyxhQUFhLEdBQUdDLEtBQUssQ0FBQ0MsaUJBQUQsRUFBb0I7QUFDM0NDLElBQUFBLE1BQU0sRUFBRTtBQUNKQyxNQUFBQSxJQUFJLEVBQUVDLGFBQU9DLFVBRFQ7QUFFSkMsTUFBQUEsUUFBUSxFQUFFLFdBRk47QUFHSkMsTUFBQUEsVUFBVSxFQUNOQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsUUFBWixLQUF5QixZQUF6QixHQUNNTixhQUFPTyxLQUFQLENBQWFDLGdCQURuQixHQUVNUixhQUFPUyxHQUFQLENBQVdEO0FBTmpCLEtBRG1DO0FBUzNDRSxJQUFBQSxJQUFJLEVBQUUsYUFUcUM7QUFVM0M7QUFDQWhCLElBQUFBLE1BQU0sRUFBRTtBQUNKaUIsTUFBQUEsS0FBSyxFQUFFQyxLQUFLLENBQUNDLFlBQU4sQ0FBbUJuQixNQUFuQjtBQURILEtBWG1DO0FBYzNDb0IsSUFBQUEsT0FBTyxFQUFFLGdDQWRrQztBQWUzQ0MsSUFBQUEsYUFBYSxFQUFFO0FBQ1hDLE1BQUFBLEtBQUssRUFBRTtBQUNIO0FBQ0E7QUFDQSx1QkFBZTtBQUhaO0FBREksS0FmNEI7QUFzQjNDQyxJQUFBQSxPQUFPLEVBQUU7QUF0QmtDLEdBQXBCLENBQTNCLENBRHNDLENBMEJ0Qzs7QUFDQSxTQUFPdEIsYUFBYSxDQUFDdUIsS0FBckI7QUFFQSxTQUFPdkIsYUFBUDtBQUNIIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnQGNyYW5lanMvY29yZSdcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2VuQ29uZmlnKG1vZHVsZSkge1xuICAgIGNvbnN0IHdlYnBhY2tDb25maWcgPSBtZXJnZShiYXNlV2VicGFja0NvbmZpZywge1xuICAgICAgICBvdXRwdXQ6IHtcbiAgICAgICAgICAgIHBhdGg6IGNvbmZpZy5hc3NldHNSb290LFxuICAgICAgICAgICAgZmlsZW5hbWU6ICdbbmFtZV0uanMnLFxuICAgICAgICAgICAgcHVibGljUGF0aDpcbiAgICAgICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nXG4gICAgICAgICAgICAgICAgICAgID8gY29uZmlnLmJ1aWxkLmFzc2V0c1B1YmxpY1BhdGhcbiAgICAgICAgICAgICAgICAgICAgOiBjb25maWcuZGV2LmFzc2V0c1B1YmxpY1BhdGgsXG4gICAgICAgIH0sXG4gICAgICAgIG1vZGU6ICdkZXZlbG9wbWVudCcsXG4gICAgICAgIC8vIHVzZSBpbmxpbmUgc291cmNlbWFwIGZvciBrYXJtYS1zb3VyY2VtYXAtbG9hZGVyXG4gICAgICAgIG1vZHVsZToge1xuICAgICAgICAgICAgcnVsZXM6IHV0aWxzLnN0eWxlTG9hZGVycyhtb2R1bGUpLFxuICAgICAgICB9LFxuICAgICAgICBkZXZ0b29sOiAnaW5saW5lLWNoZWFwLW1vZHVsZS1zb3VyY2UtbWFwJyxcbiAgICAgICAgcmVzb2x2ZUxvYWRlcjoge1xuICAgICAgICAgICAgYWxpYXM6IHtcbiAgICAgICAgICAgICAgICAvLyBuZWNlc3NhcnkgdG8gdG8gbWFrZSBsYW5nPVwic2Nzc1wiIHdvcmsgaW4gdGVzdCB3aGVuIHVzaW5nIHZ1ZS1sb2FkZXIncyA/aW5qZWN0IG9wdGlvblxuICAgICAgICAgICAgICAgIC8vIHNlZSBkaXNjdXNzaW9uIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy92dWUtbG9hZGVyL2lzc3Vlcy83MjRcbiAgICAgICAgICAgICAgICAnc2Nzcy1sb2FkZXInOiAnc2Fzcy1sb2FkZXInLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgcGx1Z2luczogW10sXG4gICAgfSlcblxuICAgIC8vIG5vIG5lZWQgZm9yIGFwcCBlbnRyeSBkdXJpbmcgdGVzdHNcbiAgICBkZWxldGUgd2VicGFja0NvbmZpZy5lbnRyeVxuXG4gICAgcmV0dXJuIHdlYnBhY2tDb25maWdcbn1cbiJdfQ==