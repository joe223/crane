"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = genConfig;

var _core = require("@cranejs/core");

function genConfig(module) {
  const webpackConfig = merge(baseWebpackConfig, {
    output: {
      path: _core.config.build.assetsRoot,
      filename: '[name].js',
      publicPath: process.env.NODE_ENV === 'production' ? _core.config.build.assetsPublicPath : _core.config.dev.assetsPublicPath
    },
    mode: 'development',
    // use inline sourcemap for karma-sourcemap-loader
    module: {
      rules: utils.styleLoaders(module)
    },
    devtool: '#inline-source-map',
    resolveLoader: {
      alias: {
        // necessary to to make lang="scss" work in test when using vue-loader's ?inject option
        // see discussion at https://github.com/vuejs/vue-loader/issues/724
        'scss-loader': 'sass-loader'
      }
    },
    plugins: []
  }); // no need for app entry during tests

  delete webpackConfig.entry;
  return webpackConfig;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy93ZWJwYWNrQ29uZmlnL3dlYnBhY2sudGVzdC5jb25mLmpzIl0sIm5hbWVzIjpbImdlbkNvbmZpZyIsIm1vZHVsZSIsIndlYnBhY2tDb25maWciLCJtZXJnZSIsImJhc2VXZWJwYWNrQ29uZmlnIiwib3V0cHV0IiwicGF0aCIsImNvbmZpZyIsImJ1aWxkIiwiYXNzZXRzUm9vdCIsImZpbGVuYW1lIiwicHVibGljUGF0aCIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsImFzc2V0c1B1YmxpY1BhdGgiLCJkZXYiLCJtb2RlIiwicnVsZXMiLCJ1dGlscyIsInN0eWxlTG9hZGVycyIsImRldnRvb2wiLCJyZXNvbHZlTG9hZGVyIiwiYWxpYXMiLCJwbHVnaW5zIiwiZW50cnkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFJZSxTQUFTQSxTQUFULENBQW9CQyxNQUFwQixFQUE0QjtBQUN2QyxRQUFNQyxhQUFhLEdBQUdDLEtBQUssQ0FBQ0MsaUJBQUQsRUFBb0I7QUFDM0NDLElBQUFBLE1BQU0sRUFBRTtBQUNKQyxNQUFBQSxJQUFJLEVBQUVDLGFBQU9DLEtBQVAsQ0FBYUMsVUFEZjtBQUVKQyxNQUFBQSxRQUFRLEVBQUUsV0FGTjtBQUdKQyxNQUFBQSxVQUFVLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxRQUFaLEtBQXlCLFlBQXpCLEdBQ05QLGFBQU9DLEtBQVAsQ0FBYU8sZ0JBRFAsR0FFTlIsYUFBT1MsR0FBUCxDQUFXRDtBQUxiLEtBRG1DO0FBUTNDRSxJQUFBQSxJQUFJLEVBQUUsYUFScUM7QUFTM0M7QUFDQWhCLElBQUFBLE1BQU0sRUFBRTtBQUNKaUIsTUFBQUEsS0FBSyxFQUFFQyxLQUFLLENBQUNDLFlBQU4sQ0FBbUJuQixNQUFuQjtBQURILEtBVm1DO0FBYTNDb0IsSUFBQUEsT0FBTyxFQUFFLG9CQWJrQztBQWMzQ0MsSUFBQUEsYUFBYSxFQUFFO0FBQ1hDLE1BQUFBLEtBQUssRUFBRTtBQUNIO0FBQ0E7QUFDQSx1QkFBZTtBQUhaO0FBREksS0FkNEI7QUFxQjNDQyxJQUFBQSxPQUFPLEVBQUU7QUFyQmtDLEdBQXBCLENBQTNCLENBRHVDLENBeUJ2Qzs7QUFDQSxTQUFPdEIsYUFBYSxDQUFDdUIsS0FBckI7QUFFQSxTQUFPdkIsYUFBUDtBQUNIIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgICBjb25maWdcbn0gZnJvbSAnQGNyYW5lanMvY29yZSdcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2VuQ29uZmlnIChtb2R1bGUpIHtcbiAgICBjb25zdCB3ZWJwYWNrQ29uZmlnID0gbWVyZ2UoYmFzZVdlYnBhY2tDb25maWcsIHtcbiAgICAgICAgb3V0cHV0OiB7XG4gICAgICAgICAgICBwYXRoOiBjb25maWcuYnVpbGQuYXNzZXRzUm9vdCxcbiAgICAgICAgICAgIGZpbGVuYW1lOiAnW25hbWVdLmpzJyxcbiAgICAgICAgICAgIHB1YmxpY1BhdGg6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbidcbiAgICAgICAgICAgICAgICA/IGNvbmZpZy5idWlsZC5hc3NldHNQdWJsaWNQYXRoXG4gICAgICAgICAgICAgICAgOiBjb25maWcuZGV2LmFzc2V0c1B1YmxpY1BhdGhcbiAgICAgICAgfSxcbiAgICAgICAgbW9kZTogJ2RldmVsb3BtZW50JyxcbiAgICAgICAgLy8gdXNlIGlubGluZSBzb3VyY2VtYXAgZm9yIGthcm1hLXNvdXJjZW1hcC1sb2FkZXJcbiAgICAgICAgbW9kdWxlOiB7XG4gICAgICAgICAgICBydWxlczogdXRpbHMuc3R5bGVMb2FkZXJzKG1vZHVsZSlcbiAgICAgICAgfSxcbiAgICAgICAgZGV2dG9vbDogJyNpbmxpbmUtc291cmNlLW1hcCcsXG4gICAgICAgIHJlc29sdmVMb2FkZXI6IHtcbiAgICAgICAgICAgIGFsaWFzOiB7XG4gICAgICAgICAgICAgICAgLy8gbmVjZXNzYXJ5IHRvIHRvIG1ha2UgbGFuZz1cInNjc3NcIiB3b3JrIGluIHRlc3Qgd2hlbiB1c2luZyB2dWUtbG9hZGVyJ3MgP2luamVjdCBvcHRpb25cbiAgICAgICAgICAgICAgICAvLyBzZWUgZGlzY3Vzc2lvbiBhdCBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvdnVlLWxvYWRlci9pc3N1ZXMvNzI0XG4gICAgICAgICAgICAgICAgJ3Njc3MtbG9hZGVyJzogJ3Nhc3MtbG9hZGVyJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBwbHVnaW5zOiBbXVxuICAgIH0pXG5cbiAgICAvLyBubyBuZWVkIGZvciBhcHAgZW50cnkgZHVyaW5nIHRlc3RzXG4gICAgZGVsZXRlIHdlYnBhY2tDb25maWcuZW50cnlcblxuICAgIHJldHVybiB3ZWJwYWNrQ29uZmlnXG59XG4iXX0=