"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = genConfig;

var _core = require("@cranejs/core");

function genConfig(module) {
  const webpackConfig = merge(baseWebpackConfig, {
    output: {
      path: _core.config.build.assetsRoot,
      filename: '[name].js',
      publicPath: process.env.NODE_ENV === 'production' ? _core.config.build.assetsPublicPath : _core.config.dev.assetsPublicPath
    },
    mode: 'development',
    // use inline sourcemap for karma-sourcemap-loader
    module: {
      rules: utils.styleLoaders(module)
    },
    devtool: '#inline-source-map',
    resolveLoader: {
      alias: {
        // necessary to to make lang="scss" work in test when using vue-loader's ?inject option
        // see discussion at https://github.com/vuejs/vue-loader/issues/724
        'scss-loader': 'sass-loader'
      }
    },
    plugins: []
  }); // no need for app entry during tests

  delete webpackConfig.entry;
  return webpackConfig;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy93ZWJwYWNrQ29uZmlnL3dlYnBhY2sudGVzdC5jb25mLmpzIl0sIm5hbWVzIjpbImdlbkNvbmZpZyIsIm1vZHVsZSIsIndlYnBhY2tDb25maWciLCJtZXJnZSIsImJhc2VXZWJwYWNrQ29uZmlnIiwib3V0cHV0IiwicGF0aCIsImNvbmZpZyIsImJ1aWxkIiwiYXNzZXRzUm9vdCIsImZpbGVuYW1lIiwicHVibGljUGF0aCIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsImFzc2V0c1B1YmxpY1BhdGgiLCJkZXYiLCJtb2RlIiwicnVsZXMiLCJ1dGlscyIsInN0eWxlTG9hZGVycyIsImRldnRvb2wiLCJyZXNvbHZlTG9hZGVyIiwiYWxpYXMiLCJwbHVnaW5zIiwiZW50cnkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFZSxTQUFTQSxTQUFULENBQW1CQyxNQUFuQixFQUEyQjtBQUN0QyxRQUFNQyxhQUFhLEdBQUdDLEtBQUssQ0FBQ0MsaUJBQUQsRUFBb0I7QUFDM0NDLElBQUFBLE1BQU0sRUFBRTtBQUNKQyxNQUFBQSxJQUFJLEVBQUVDLGFBQU9DLEtBQVAsQ0FBYUMsVUFEZjtBQUVKQyxNQUFBQSxRQUFRLEVBQUUsV0FGTjtBQUdKQyxNQUFBQSxVQUFVLEVBQ05DLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxRQUFaLEtBQXlCLFlBQXpCLEdBQ01QLGFBQU9DLEtBQVAsQ0FBYU8sZ0JBRG5CLEdBRU1SLGFBQU9TLEdBQVAsQ0FBV0Q7QUFOakIsS0FEbUM7QUFTM0NFLElBQUFBLElBQUksRUFBRSxhQVRxQztBQVUzQztBQUNBaEIsSUFBQUEsTUFBTSxFQUFFO0FBQ0ppQixNQUFBQSxLQUFLLEVBQUVDLEtBQUssQ0FBQ0MsWUFBTixDQUFtQm5CLE1BQW5CO0FBREgsS0FYbUM7QUFjM0NvQixJQUFBQSxPQUFPLEVBQUUsb0JBZGtDO0FBZTNDQyxJQUFBQSxhQUFhLEVBQUU7QUFDWEMsTUFBQUEsS0FBSyxFQUFFO0FBQ0g7QUFDQTtBQUNBLHVCQUFlO0FBSFo7QUFESSxLQWY0QjtBQXNCM0NDLElBQUFBLE9BQU8sRUFBRTtBQXRCa0MsR0FBcEIsQ0FBM0IsQ0FEc0MsQ0EwQnRDOztBQUNBLFNBQU90QixhQUFhLENBQUN1QixLQUFyQjtBQUVBLFNBQU92QixhQUFQO0FBQ0giLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb25maWcgfSBmcm9tICdAY3JhbmVqcy9jb3JlJ1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZW5Db25maWcobW9kdWxlKSB7XG4gICAgY29uc3Qgd2VicGFja0NvbmZpZyA9IG1lcmdlKGJhc2VXZWJwYWNrQ29uZmlnLCB7XG4gICAgICAgIG91dHB1dDoge1xuICAgICAgICAgICAgcGF0aDogY29uZmlnLmJ1aWxkLmFzc2V0c1Jvb3QsXG4gICAgICAgICAgICBmaWxlbmFtZTogJ1tuYW1lXS5qcycsXG4gICAgICAgICAgICBwdWJsaWNQYXRoOlxuICAgICAgICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbidcbiAgICAgICAgICAgICAgICAgICAgPyBjb25maWcuYnVpbGQuYXNzZXRzUHVibGljUGF0aFxuICAgICAgICAgICAgICAgICAgICA6IGNvbmZpZy5kZXYuYXNzZXRzUHVibGljUGF0aCxcbiAgICAgICAgfSxcbiAgICAgICAgbW9kZTogJ2RldmVsb3BtZW50JyxcbiAgICAgICAgLy8gdXNlIGlubGluZSBzb3VyY2VtYXAgZm9yIGthcm1hLXNvdXJjZW1hcC1sb2FkZXJcbiAgICAgICAgbW9kdWxlOiB7XG4gICAgICAgICAgICBydWxlczogdXRpbHMuc3R5bGVMb2FkZXJzKG1vZHVsZSksXG4gICAgICAgIH0sXG4gICAgICAgIGRldnRvb2w6ICcjaW5saW5lLXNvdXJjZS1tYXAnLFxuICAgICAgICByZXNvbHZlTG9hZGVyOiB7XG4gICAgICAgICAgICBhbGlhczoge1xuICAgICAgICAgICAgICAgIC8vIG5lY2Vzc2FyeSB0byB0byBtYWtlIGxhbmc9XCJzY3NzXCIgd29yayBpbiB0ZXN0IHdoZW4gdXNpbmcgdnVlLWxvYWRlcidzID9pbmplY3Qgb3B0aW9uXG4gICAgICAgICAgICAgICAgLy8gc2VlIGRpc2N1c3Npb24gYXQgaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3Z1ZS1sb2FkZXIvaXNzdWVzLzcyNFxuICAgICAgICAgICAgICAgICdzY3NzLWxvYWRlcic6ICdzYXNzLWxvYWRlcicsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBwbHVnaW5zOiBbXSxcbiAgICB9KVxuXG4gICAgLy8gbm8gbmVlZCBmb3IgYXBwIGVudHJ5IGR1cmluZyB0ZXN0c1xuICAgIGRlbGV0ZSB3ZWJwYWNrQ29uZmlnLmVudHJ5XG5cbiAgICByZXR1cm4gd2VicGFja0NvbmZpZ1xufVxuIl19